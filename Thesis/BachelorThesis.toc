\contentsline {chapter}{\numberline {1}Introduction}{5}{}%
\contentsline {paragraph}{The digital age has fully absorbed our societies. We do everything in some form or another of digital media: create art, science, communicate, create and share memories, play games, and write thesis reports with our computers. There is basically no limit to what people do with their computers.}{5}{}%
\contentsline {paragraph}{Proportional to this growth, the internet's influence on our lives has also ballooned. Our activities have been pushed more and more online, onto the cloud. Originally, few bothered to think about privacy. Most damaging, perhaps, was the erroneous expectation of private communication. Edward Snowden's revelations about the "Five Eyes" intelligence alliance, and cooperation in the collection of all online communication, social media, and phone data. No online communication has been considered safe ever since.}{5}{}%
\contentsline {section}{\numberline {1.1}Problem}{5}{}%
\contentsline {paragraph}{Mozilla has tried to support end-to-end encryption (E2EE? for a long time, it has been faced with a major obstacles:}{5}{}%
\contentsline {paragraph}{Thus, the problem: How can Alice send an encrypted email to someone that does not have any type of public key available?}{6}{}%
\contentsline {section}{\numberline {1.2}Context}{6}{}%
\contentsline {paragraph}{While PGP has existed for years, it is predicated on the exchange of public keys. In clear text, there is a technical requirement to create and exchange keys, and installation of any additional required client software that most average users do not have the patience to complete. Originally, Thunderbird relied on an add-on, Enigmail, to create, manage, and exchange keys.}{6}{}%
\contentsline {paragraph}{Starting with Thunderbird 78, Mozilla implemented OpenPGP as part of it's core client software, and dropped support for all add-ons not using MailExtensions (which includes Enigmail). However, the feature is disabled by default, and is still considered a work in progress. All other add-ons found on Thunderbird's extensions page or searching through Github were considered to be in a testing or experimental phase.}{6}{}%
\contentsline {section}{\numberline {1.3}My solution to the problem}{6}{}%
\contentsline {paragraph}{This project will implement of an Email Add-on that will allow end-to-end encrypted (E2EE) communication. More specifically, it will focus on the Mozilla Thunderbird client, for the simple fact that I have personally used it for over ten years, it's free, open-source, and cross platform. While I grant that not everyone uses Thunderbird, at least there should be no shortage of users, and theoretically anyone can get it easily, for free.}{6}{}%
\contentsline {paragraph}{Ultimately, this project aims to offer a simple, albeit \emph {not} perfect solution for those interested in privacy, that don't have the technical expertise to engage in key creation, exchanges or have zero knowledge about encryption. The \author {Esteban Licea} will demonstrate the advantages and disadvantages of various implementations strategies, and implement a solution that offers, hopefully, a viable encryption option that will fulfill some use cases.}{7}{}%
\contentsline {section}{\numberline {1.4}Methods applied}{7}{}%
\contentsline {paragraph}{The methods and tools used to solve this research inquiry will include:}{7}{}%
\contentsline {paragraph}{After the research has been completed, all coding will proceed using a test driven development approach. Thunderbird Add-ons are based on MailExtension technology, which are created using the follow standard languages:}{7}{}%
\contentsline {chapter}{\numberline {2}Cryptography}{9}{}%
\contentsline {section}{\numberline {2.1}Algorithm selection overview}{9}{}%
\contentsline {subsection}{\numberline {2.1.1}Symmetric key encryption}{9}{}%
\contentsline {paragraph}{Selecting an algorithm, among so many, was pretty straightforward given my use case, but I wanted to show my thought processes. Firstly, there are two fundamental paths for selecting an encryption algorithm. The selection between \emph {asymmetric} and \emph {symmetric} key encryption is the initial decision.}{9}{}%
\contentsline {paragraph}{The goal of this project is \emph {ease of use} (at the cost of security), so our choice is clear: symmetric-key encryption.}{10}{}%
\contentsline {subsection}{\numberline {2.1.2}Block vs. Stream cipher encryption}{10}{}%
\contentsline {paragraph}{Next, we need to decide between a block cipher or a stream cipher. As Bruce Schneier defines the two in his book "Applied Cryptography: Protocols, Algorithms in C" as:}{10}{}%
\contentsline {paragraph}{The advantages of a stream ciphers:}{10}{}%
\contentsline {paragraph}{are more appropriate for hardware implementations.}{10}{}%
\contentsline {paragraph}{According to Bruce Schneier, block ciphers are more suitable for software implementation as they are easier to implement, avoid time-consuming bit manipulations, and operate on computer sized blocks.}{10}{}%
\contentsline {subsection}{\numberline {2.1.3}Block cipher selection}{10}{}%
\contentsline {paragraph}{There are many block ciphers to choose from, these are just some of the most popular:}{10}{}%
\contentsline {paragraph}{But, after an overall account of the block enciphers available, the author decided there is really only one reasonable choice: the Advanced Encryption Standard (AES). This decision is based }{11}{}%
\contentsline {section}{\numberline {2.2}Advanced Encryption Standard (AES)}{11}{}%
\contentsline {paragraph}{AES is basically the only choice for a block cipher scheme. It has been the industry standard for the past 20 years, even used by the U.S. government.}{11}{}%
\contentsline {chapter}{\numberline {3}Implementation}{13}{}%
\contentsline {section}{\numberline {3.1}WebExtensions}{13}{}%
\contentsline {section}{\numberline {3.2}Crypto JS}{13}{}%
\contentsline {chapter}{\numberline {4}Security Considerations}{15}{}%
\contentsline {section}{\numberline {4.1}Attack Vectors}{15}{}%
\contentsline {section}{\numberline {4.2}Attack Mitigation}{15}{}%
\contentsline {chapter}{\numberline {5}Summary}{17}{}%
\contentsline {chapter}{\numberline {6}Appendix}{19}{}%
\contentsline {section}{\numberline {6.1}Specifications details}{20}{}%
\contentsline {subsection}{\numberline {6.1.1}Personas}{20}{}%
\contentsline {subsection}{\numberline {6.1.2}Use Cases}{22}{}%
\contentsline {paragraph}{The Use Cases used in this project will be defined, and or be restricted to the following items:}{22}{}%
\contentsline {subsubsection}{Use Case ID}{22}{}%
\contentsline {paragraph}{The Use Case ID will be a unique, numeric identifier for the use case.}{22}{}%
\contentsline {subsubsection}{Actor(s)}{22}{}%
\contentsline {paragraph}{An actor is a person or other entity external to the system who interacts with it, and performs use cases to complete task. Included in this designation, will be additional actors who participate in the use case.}{22}{}%
\contentsline {subsubsection}{Description}{22}{}%
\contentsline {paragraph}{This section should describe at a high level the purpose of the use case, what it aims to achieve, and any other relevant outcomes.}{22}{}%
\contentsline {subsubsection}{Preconditions}{22}{}%
\contentsline {paragraph}{The preconditions are all those conditions that must exist prior to the execution of the use case.}{22}{}%
\contentsline {subsubsection}{Basic Flow}{22}{}%
\contentsline {paragraph}{These are the basic, ordered steps and the description required for the completion of the use case. The steps will be numbers, and should be executed in this exact order. Completing the steps, in this order, should lead to the completion of the use case without error.}{22}{}%
\contentsline {subsubsection}{Exceptions}{22}{}%
\contentsline {paragraph}{Describes any anticipated errors that could occur during the execution of the use case, and how the system will handle these errors. The exceptions systems will not describe unanticipated errors, or error that are not included in the basic flow.}{22}{}%
\contentsline {subsubsection}{Postconditions}{22}{}%
\contentsline {paragraph}{Describes the state of all relevant parties, including the system, \emph {after} the execution of the use case.}{22}{}%
\contentsline {subsection}{\numberline {6.1.3}Use Case Diagrams}{24}{}%
\contentsline {section}{\numberline {6.2}Software Requirements}{24}{}%
\contentsline {chapter}{\numberline {7}Software Requirments Specifications}{25}{}%
\contentsline {section}{\numberline {7.1}Introduction}{25}{}%
\contentsline {subsection}{\numberline {7.1.1}Purpose}{25}{}%
\contentsline {paragraph}{This document will describe the entire software development process, including use cases, personas, diagrams, and the end goals of the system. The audience for this document will be any persons interested in the software engineering process used for this project, but more specifically, those responsible for overseeing and rating this project.}{25}{}%
\contentsline {subsection}{\numberline {7.1.2}Scope}{25}{}%
\contentsline {paragraph}{The name for this product will be "Thunderbird: One Time Password." This product will be a Thunderbird add-on, that will encipher plain text into cipher text, which will be delivered by the Thunderbird client to another Thunderbird recipient, that also has the add-on installed. Finally, the second person will be able to decipher the cipher text back to plain text, and read the message.}{25}{}%
\contentsline {subsection}{\numberline {7.1.3}Definitions, acronyms, abbreviations}{25}{}%
\contentsline {paragraph}{The following definitions, acronyms, and abbreviations may be used with in the software development process:}{25}{}%
\contentsline {subsection}{\numberline {7.1.4}References}{26}{}%
\contentsline {paragraph}{Author used the IEEE document:}{26}{}%
\contentsline {paragraph}{the IEEE Recommended Practice for Software Requirements Specifications.}{26}{}%
\contentsline {subsection}{\numberline {7.1.5}Overview}{27}{}%
\contentsline {section}{\numberline {7.2}Overall Description}{27}{}%
\contentsline {paragraph}{The following subsections will describe the general factors that will influence the product requirements, including any background information.}{27}{}%
\contentsline {subsection}{\numberline {7.2.1}Product perspective}{27}{}%
\contentsline {paragraph}{The developed software product, \emph {Thunderbird: One Time Password}, has not current rival. It current alternatives would be Mozilla's own implementation of OpenPGP. The previous option was PgP through the add-on Enigmail. However, at the writing of this document, the add-on is no longer supported.}{27}{}%
\contentsline {paragraph}{The two alternatives do have the advantage that they used symmetric key exchange to encrypt emails, which is more secure, and recommended for encoded email exchange. The \emph {Thunderbird: One Time Password} add-on will have the feature that it is easy to use, at the expense of security.}{27}{}%
\contentsline {subsubsection}{System interfaces}{27}{}%
\contentsline {paragraph}{The required, and assumed interfaces required for the product include the following:}{27}{}%
\contentsline {subsubsection}{User interfaces}{27}{}%
\contentsline {paragraph}{There are no special user interface requirements.}{27}{}%
\contentsline {subsubsection}{Hardware interfaces}{28}{}%
\contentsline {paragraph}{There are no special hardware interfaces required for this product to function.}{28}{}%
\contentsline {subsubsection}{Software interfaces}{28}{}%
\contentsline {paragraph}{The required software interfaces are:}{28}{}%
\contentsline {subsubsection}{Communications interfaces}{28}{}%
\contentsline {paragraph}{No special communication interfaces will be required, than would already be prerequisites for Email communication, i.e. network capable computer.}{28}{}%
\contentsline {subsubsection}{Memory constraints}{28}{}%
\contentsline {paragraph}{Not applicable}{28}{}%
\contentsline {subsubsection}{Operations}{28}{}%
\contentsline {paragraph}{Not applicable}{28}{}%
\contentsline {subsubsection}{Site adaptation requirements}{28}{}%
\contentsline {paragraph}{Not applicable}{28}{}%
\contentsline {subsection}{\numberline {7.2.2}Product functions}{29}{}%
\contentsline {subsection}{\numberline {7.2.3}User characteristics}{29}{}%
\contentsline {subsection}{\numberline {7.2.4}Constraints}{29}{}%
\contentsline {paragraph}{There will be various constraints within this project listed below:}{29}{}%
\contentsline {subsection}{\numberline {7.2.5}Assumptions and dependencies}{29}{}%
\contentsline {section}{\numberline {7.3}Specific Requirements}{29}{}%
\contentsline {section}{\numberline {7.4}Appendix}{29}{}%
